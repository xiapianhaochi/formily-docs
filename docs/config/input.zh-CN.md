---
title: 输入组件
order: 2
toc: menu
---

# 输入组件

一般出现在需要用户提交信息或者收集用户信息的场景，目前 formily 支持一下基础输入组件：

## 输入框

通过鼠标或键盘输入内容，是最基础的表单域的包装。

### 使用场景

- 需要用户输入表单域内容时
- 提供组合型输入框，带搜索的输入框，还可以进行大小选择

### name

- 类别：字段属性
- 名称：字段标识
- 类型: `string`
- 默认值：`''`
- 详细：

配置字段所对应的表单提交 key 值，一般对应服务端数据库中的字段。

示例：

```js
{
  name: 'deptName';
}
```

### title

- 类别：字段属性
- 名称：字段名称
- 类型：`string`
- 默认值：`''`
- 详细：

配置字段在表单中显示的名称，此处会在国际化时，作为兜底策略。

示例：

```js
{
  title: '部门名称';
}
```

## 多行输入

又称为文本域(textarea)，即带有滚动条的多行输入框

### 使用场景

- 用户需要输入较多内容时可选择多行输入框

### name

- 类别：字段属性
- 名称：字段标识
- 类型: `string`
- 默认值：`''`
- 详细：

配置字段所对应的表单提交 key 值，一般对应服务端数据库中的字段。

示例：

```js
{
  name: 'remark';
}
```

### title

- 类别：字段属性
- 名称：字段名称
- 类型：`string`
- 默认值：`''`
- 详细：

配置字段在表单中显示的名称，此处会在国际化时，作为兜底策略。

示例：

```js
{
  title: '备注';
}
```

### titleLangKey

- 类别：字段属性
- 名称：标题国际化标识
- 类型：`string`
- 默认值：`''`
- 详细：

title 属性对应的多语言 key,作为国际化标识

示例：

```js
{
  titleLangKey: 'Form.remark';
}
```

### description

- 类别：字段属性
- 名称：描述
- 类型：`string`
- 默认值：`''`
- 详细：

给字段标注简单的描述或者备注

示例：

```js
{
  description: '我是文本域';
}
```

### descriptionLangKey

- 类别：字段属性
- 名称：描述国际化标识
- 类型：`string`
- 默认值：`''`
- 详细：

description 属性对应的多语言的 key,作为国际化标识

示例：

```js
{
  descriptionLangKey: 'Form.description';
}
```

### display

- 类别：字段属性
- 名称：展示状态
- 类型：`string`
- 默认值：`visible`
- 详细：

控件的展示状态分别为：

- 显示
- 半隐藏（只会隐藏 UI）
- 全隐藏（隐藏 UI 并且表单中对应数据也会被删除）

### editable

- 类别：字段属性
- 名称：UI 形态
- 类型：`string`
- 默认值：`editable`
- 详细：指一个 UI 所对应的操作属性：
- 可编辑
- 禁用
- 只读
- 阅读

### valueFormatter

- 类别：字段属性
- 名称：格式化函数
- 类型：`function`
- 默认值：`''`
- 详细：在阅读模式下的数据格式化函数，不改变控件在表单中的实际数据，只会改变 UI 所展示的数据。可以在 JS 语法中写表达式，最终一定要 return

示例：

```js
{
  (value) => {
    return value == 'A' ? '我是文本域A' : '我是文本域B';
  };
}
```

### defaultValue

- 类别：字段属性
- 名称：默认值
- 类型：`string`
- 默认值：`''`
- 详细：控件初始化值

### required

- 类别：字段属性
- 名称：必填
- 类型：`boolean`
- 默认值：`false`

### requiredMessage

- 类别：字段属性
- 名称：必填错误消息
- 类型：`string`
- 默认值：`''`

### requiredMessageLangKey

- 类别：字段属性
- 名称：必填消息国际化标识
- 类型：`string`
- 默认值：`''`
- 详细： requiredMessage 属性对应的多语言的 key,作为国际化标识

示例：

```js
{
  requiredMessageLangKey: 'Form.requiredMessage';
}
```

### validator

- 类别：字段属性
- 名称：校验规则
- 类型：`string`
- 默认值：`''`
- 详细：字段校验规则，内置校验规则：
- URL 地址
- 邮箱格式
- 数字
- 整数
- 身份证格式
- 手机号码格式
- 中文格式
- 邮编格式

配置规则：一个字段可以配置多个校验规则，校验顺序根据排序进行依次校验

- 触发类型：
  - 改变时
  - 失焦时
- 校验策略：
  - 自身校验
  - 驱动校验
- 自定义校验器：
  - 自定义校验器配合驱动校验来实现对字段的校验语法格式：

```js
{
  (dayjs, getLangResult, models, directModels, path) => {
    return (rule, value, callback) => {
      callback('错误消息');
    };
  };
}
```

- 错误消息：错误消息只对当前规则集的一个内置规则生效，如果需要对不同内置规则定制错误消息，请拆分成多条规则
- 错误消息国际化标识：错误消息 属性对应的多语言的 key,作为国际化标识
- 格式校验：内置邮箱格式、身份证格式、手机号码格式等多种格式校验
- 正则表达式：根据输入的正则表达式进行校验
- 长度限制：字符的长度或者数值要等于此值，如果不想校验此规则，可以不填写
- 长度/数值小于：字符的长度或者数值要小于此值，如果不想校验此规则，可以不填写
- 长度/数值大于：字符的长度或者数值要小于此值，如果不想校验此规则，可以不填写
- 长度/数值小于等于：字符的长度或者数值要小于等于此值，如果不想校验此规则，可以不填写
- 长度/数值大于等于：字符的长度或者数值要大于等于此值，如果不想校验此规则，可以不填写
- 不允许有空格：字符串中不允许有空格

### autoSize

- 类别：组件属性
- 名称：自适应高度
- 类型：`boolean`
- 默认值：`false`
- 详细：如果开启，多行输入框高度自适应变化，否则不会

### allowClear

- 类别：组件属性
- 名称：允许清楚内容
- 类型：`boolean`
- 默认值：`false`
- 详细：如果开启，多行输入框出现清除 icon，快速清除输入框中内容，否则不会出现

### maxLength

- 类别：组件属性
- 名称：最大长度
- 类型：`number`
- 默认值：`null`
- 详细：输入的字符最大长度限制

### placeholder

- 类别：组件属性
- 名称：占位符提示
- 类型：`string`
- 默认值：`''`

### placeholderLangKey

- 类别：组件属性
- 名称：占位符提示国际化标识
- 类型：`string`
- 默认值：`''`
- 详细： placeholder 属性对应的多语言的 key，作为国际标识

### onChange

- 类别：组件属性
- 名称：改值动作
- 类型：`string`
- 默认值：`''`
- 详细：数值发生改变后所执行的动作，选择的数据来自表单配置中的动作响应中心数据，如若已选择的数据在动作响应中心被删除，此处不会自动更新选中值，请主动删除

### onFocus

- 类别：组件属性
- 名称：获取焦点动作
- 类型：`string`
- 默认值：`''`
- 详细：输入框获取焦点后所执行的动作，选择的数据来自表单配置中的动作响应中心数据，如若已选择的数据在动作响应中心被删除，此处不会自动更新选中值，请主动删除

### onBlur

- 类别：组件属性
- 名称：失去焦点动作
- 类型：`string`
- 默认值：`''`
- 详细：输入框失去焦点后所执行的动作，选择的数据来自表单配置中的动作响应中心数据，如若已选择的数据在动作响应中心被删除，此处不会自动更新选中值，请主动删除

### tooltip

- 类别：容器属性
- 名称：提示
- 类型：`string`
- 默认值：`''`
- 详细：给字段标注简单的描述或者备注

### tooltipLangKey

- 类别：容器属性
- 名称：提示国际化标识
- 类型：`string`
- 默认值：`''`
- 详细： tooltip 属性对应的多语言的 key，作为国际标识

### labelCol

- 类别：容器属性
- 名称：标签栅格宽度
- 类型：`number`
- 默认值：`null`
- 详细：标签布局宽度，只在布局方式为'水平'时可用，默认继承表单配置中的标签栅格宽度

### wrapperCol

- 类别：容器属性
- 名称：组件栅格宽度
- 类型：`number`
- 默认值：`null`
- 详细：控件布局宽度，只在布局方式为'水平'时可用，默认继承表单配置中的组件栅格宽度

### labelWidth

- 类别：容器属性
- 名称：标签宽度
- 类型：`string`
- 默认值：`auto`
- 详细：标签宽度，支持数值加单位 px、%、vh、em 或者 auto

### wrapperWidth

- 类别：容器属性
- 名称：组件宽度
- 类型：`string`
- 默认值：`auto`
- 详细：组件宽度，支持数值加单位 px、%、vh、em 或者 auto

### labelAlign

- 类别：容器属性
- 名称：标签对齐方式
- 类型：`string`
- 默认值：`''`
- 详细：默认继承表单配置中的标签对齐方式

### wrapperAlign

- 类别：容器属性
- 名称：组件对齐方式
- 类型：`string`
- 默认值：`''`
- 详细：默认继承表单配置中的组件对齐方式

### hideLabel

- 类别：容器属性
- 名称：是否隐藏标签
- 类型：`boolean`
- 默认值：`false`
- 详细：如果开启，则隐藏 label 标签，否则显示

### colon

- 类别：容器属性
- 名称：是否有冒号
- 类型：`boolean`
- 默认值：`true`

### asterisk

- 类别：容器属性
- 名称：是否有星号
- 类型：`boolean`
- 默认值：`true`

### customClass

- 类别：容器属性
- 名称：自定义类名
- 类型：`array`
- 默认值：`[]`
- 详细：数据来源于表单配置中自定义 style 中的样式名

## 密码框

## 数字

## 选择框

## 复选框

## 开关

## 日期

## 日期范围

## 时间

## 时间范围

## 评分

## 级联选择

## 下拉树

## 滑动条
